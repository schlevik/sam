generate-football-modifier-ssq-retrieval:
  cmd: python main.py generate-modifier --config conf/modifier-ssq-retrieval-unique-actors.json
    --seed 56 --out-path data/football/modifier/ --subsample 50 --do-save
  deps:
  - path: conf/modifier-ssq-retrieval-unique-actors.json
    md5: 28a244cf99f6915b8b4c74e914058ff4
  - path: scripts/generate_modifier.py
    md5: 7b3129eef19a869b7f0ac04ad9e03acd
  - path: stresstest/football/football_generator.py
    md5: 569914abf2f024262f95e715ec97d7f3
  - path: stresstest/football/generate_with_modifier.py
    md5: 32953f57cdc50d16b7482f6a3f5d631a
  - path: stresstest/football/resources/team-names.json
    md5: 3fd4f35f3dd738849f12ec721b7cdaf0
  - path: stresstest/football/resources/templates_modifier.py
    md5: a308789fa8acc6f1bc03c3351fc06ce9
  - path: stresstest/generator.py
    md5: 427afdf6a9a1b06eedddcfd329602aa4
  - path: stresstest/generator_modifier.py
    md5: a97da5343389ae453868b74e4684cc14
  - path: stresstest/realize.py
    md5: 0eb6dfcc36930e9c12bbeb7fa9c71b3b
  outs:
  - path: data/football/modifier/baseline-ssq-retrieval-40-50.json
    md5: 858a23367039b6cb3292868a41a4a74f
  - path: data/football/modifier/control-ssq-retrieval-40-50.json
    md5: c41b73cc4b482b648771b6fb28ce00a7
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
predict-football-modifier:
  cmd: MODELS=models/bidaf-squad.tar.gz CLASSES='BiDAF' python main.py predict data/football/modifier/baseline-ssq-retrieval-40-50.json
    data/football/modifier/intervention-ssq-retrieval-40-50.json data/football/modifier/control-ssq-retrieval-40-50.json
    --output-folder data/football/modifier/predictions
  deps:
  - path: data/football/modifier/baseline-ssq-retrieval-40-50.json
    md5: 858a23367039b6cb3292868a41a4a74f
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
  - path: models/albert-squad
    md5: 8d09b19e15976988bb199e5928c67b3c.dir
  - path: models/bidaf-squad.tar.gz
    md5: adea30ccbb0c2cf05a6a551de8537188
  - path: scripts/predict.py
    md5: 9708045b2daf7eecd2809dafcd210c38
  outs:
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-bidaf-squad.json
    md5: 983921abc3864535ca26101cd15d6578
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-bidaf-squad.json
    md5: 73a9de6f3341d86bce18348074dd9f56
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-bidaf-squad.json
    md5: 5e8abbe3a66068ef5f9fe498a17a3f0b
evaluate-football-modifier:
  cmd: python main.py evaluate data/football/modifier/baseline-ssq-retrieval-40-50.json
    data/football/modifier/intervention-ssq-retrieval-40-50.json data/football/modifier/control-ssq-retrieval-40-50.json
    --prediction-folder data/football/modifier/predictions --output metrics/football/modifier/evaluation.json
  deps:
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-albert-squad.json
    md5: db4d67f6543f3407a80b3befa2f01159
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-bidaf-squad.json
    md5: 983921abc3864535ca26101cd15d6578
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-albert-squad.json
    md5: c356fc98e0084d6f27f5ffc6b2543600
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-bidaf-squad.json
    md5: 73a9de6f3341d86bce18348074dd9f56
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-albert-squad.json
    md5: 071c7d898f1214700a77023612739cc9
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-bidaf-squad.json
    md5: 5e8abbe3a66068ef5f9fe498a17a3f0b
  - path: scripts/evaluate.py
    md5: 0044ee4f86aa9a67f241b137d9992921
  outs:
  - path: metrics/football/modifier/evaluation.json
    md5: b09df972ce13e74df5da21708b17d37a
evaluate-intervention-football-modifier:
  cmd: python main.py evaluate-intervention --baseline-file data/football/modifier/baseline-ssq-retrieval-40-50.json
    --predictions-folder data/football/modifier/predictions/ --output metrics/football/modifier/evaluation-by-intervention.json
    --do-save --control
  deps:
  - path: data/football/modifier/baseline-ssq-retrieval-40-50.json
    md5: 858a23367039b6cb3292868a41a4a74f
  - path: data/football/modifier/control-ssq-retrieval-40-50.json
    md5: c41b73cc4b482b648771b6fb28ce00a7
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-albert-squad.json
    md5: db4d67f6543f3407a80b3befa2f01159
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-bidaf-squad.json
    md5: 983921abc3864535ca26101cd15d6578
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-albert-squad.json
    md5: c356fc98e0084d6f27f5ffc6b2543600
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-bidaf-squad.json
    md5: 73a9de6f3341d86bce18348074dd9f56
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-albert-squad.json
    md5: 071c7d898f1214700a77023612739cc9
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-bidaf-squad.json
    md5: 5e8abbe3a66068ef5f9fe498a17a3f0b
  outs:
  - path: metrics/football/modifier/evaluation-by-intervention.json
    md5: 783f862b78b35d6702d9f6cbd4006a4f
process-drop:
  cmd: python main.py process-drop --input data/football/drop_dataset_dev.json --output
    data/football/drop_nfl.json
  deps:
  - path: data/football/drop_dataset_dev.json
    md5: b51befb910069359687b5a7346d21f8a
  - path: scripts/compare.py
    md5: 1b7f6ac8af58c535ee707dc899b74765
  outs:
  - path: data/football/drop_nfl.json
    md5: 4d895a9c6a0629c8f6453e88502abc2a
evaluate-naturality-football-modifier:
  cmd: python main.py quality --input data/football/modifier/intervention-ssq-retrieval-40-50.json
    --output metrics/football/modifier/naturality.json --reference data/football/drop_nfl.json
  deps:
  - path: data/football/drop_nfl.json
    md5: 4d895a9c6a0629c8f6453e88502abc2a
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
  - path: scripts/cohesion.py
    md5: c70273db027d0d942611008988f1b6ff
  outs:
  - path: metrics/football/modifier/naturality.json
    md5: 1807829790eb064dc03ab54d96d5ac0d
count-football-modifier:
  cmd: python main.py count --output metrics/football/modifier/count.json --domain
    football
  deps:
  - path: scripts/count.py
    md5: cc0bdb51c784ee6fb04b033d16c84fbd
  - path: stresstest/football/football_generator.py
    md5: 569914abf2f024262f95e715ec97d7f3
  - path: stresstest/football/generate_with_modifier.py
    md5: 32953f57cdc50d16b7482f6a3f5d631a
  - path: stresstest/football/resources/team-names.json
    md5: 3fd4f35f3dd738849f12ec721b7cdaf0
  - path: stresstest/football/resources/templates_modifier.py
    md5: a308789fa8acc6f1bc03c3351fc06ce9
  - path: stresstest/generator.py
    md5: 427afdf6a9a1b06eedddcfd329602aa4
  - path: stresstest/generator.py
    md5: 427afdf6a9a1b06eedddcfd329602aa4
  - path: stresstest/realize.py
    md5: 0eb6dfcc36930e9c12bbeb7fa9c71b3b
  outs:
  - path: metrics/football/modifier/count.json
    md5: cea433e07dfcd331d5359fcff829f1aa
evalate-diveristy-football-modifier:
  cmd: python main.py diversity --input data/football/modifier/intervention-ssq-retrieval-40-50.json
    --output metrics/football/modifier/diversity.json --reference data/football/drop_nfl.json
  deps:
  - path: data/football/drop_nfl.json
    md5: 4d895a9c6a0629c8f6453e88502abc2a
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 37bdb65c405e885ac651bd9505430038
  - path: scripts/compare.py
    md5: 6b0aa8ecfa3ce9225be999cdb41fde89
  outs:
  - path: metrics/football/modifier/diversity.json
    md5: 352ad901e302fe5bad462fa4376f9623
evalate-diversity-football-modifier:
  cmd: python main.py diversity --input data/football/modifier/intervention-ssq-retrieval-40-50.json
    --output metrics/football/modifier/diversity.json --reference data/football/drop_nfl.json
  deps:
  - path: data/football/drop_nfl.json
    md5: 4d895a9c6a0629c8f6453e88502abc2a
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
  - path: scripts/compare.py
    md5: 1b7f6ac8af58c535ee707dc899b74765
  outs:
  - path: metrics/football/modifier/diversity.json
    md5: 8d8521205e9c541d42ec12af061bee5e
report-football-modifier:
  cmd: python main.py report --diversity metrics/football/modifier/diversity.json
    --count metrics/football/modifier/count.json --naturality metrics/football/modifier/naturality.json
    --evaluation metrics/football/modifier/evaluation.json --evaluation-intervention
    metrics/football/modifier/evaluation-by-intervention.json
  deps:
  - path: metrics/football/modifier/count.json
    md5: cea433e07dfcd331d5359fcff829f1aa
  - path: metrics/football/modifier/diversity.json
    md5: 8d8521205e9c541d42ec12af061bee5e
  - path: metrics/football/modifier/evaluation-by-intervention.json
    md5: 783f862b78b35d6702d9f6cbd4006a4f
  - path: metrics/football/modifier/evaluation.json
    md5: b09df972ce13e74df5da21708b17d37a
  - path: metrics/football/modifier/naturality.json
    md5: 1807829790eb064dc03ab54d96d5ac0d
generate-football-modifier-ssq-retrieval-40-100:
  cmd: python main.py generate-modifier --config conf/modifier-ssq-retrieval-unique-actors.json
    --seed 56 --out-path data/football/modifier/train/ --subsample 100 --do-save
  deps:
  - path: conf/modifier-ssq-retrieval-unique-actors.json
    md5: 28a244cf99f6915b8b4c74e914058ff4
  - path: scripts/generate_modifier.py
    md5: 7b3129eef19a869b7f0ac04ad9e03acd
  - path: stresstest/football/football_generator.py
    md5: 569914abf2f024262f95e715ec97d7f3
  - path: stresstest/football/generate_with_modifier.py
    md5: 32953f57cdc50d16b7482f6a3f5d631a
  - path: stresstest/football/resources/team-names.json
    md5: 3fd4f35f3dd738849f12ec721b7cdaf0
  - path: stresstest/football/resources/templates_modifier.py
    md5: a308789fa8acc6f1bc03c3351fc06ce9
  - path: stresstest/generator.py
    md5: 427afdf6a9a1b06eedddcfd329602aa4
  - path: stresstest/generator_modifier.py
    md5: a97da5343389ae453868b74e4684cc14
  - path: stresstest/realize.py
    md5: 0eb6dfcc36930e9c12bbeb7fa9c71b3b
  outs:
  - path: data/football/modifier/train/baseline-ssq-retrieval-40-100.json
    md5: bbc052c8d09175aa9883440c29e1b055
  - path: data/football/modifier/train/control-ssq-retrieval-40-100.json
    md5: 3f8b8f4883e3fe7d7f08acfef1744d6b
  - path: data/football/modifier/train/intervention-ssq-retrieval-40-100.json
    md5: e63f12416d80e85292d434858b8660a7
combine-football-modifier-ssq-retrieval:
  cmd: python main.py combine data/football/modifier/train/baseline-ssq-retrieval-40-100.json
    data/football/modifier/train/intervention-ssq-retrieval-40-100.json data/football/modifier/train/both-ssq-retrieval-40-100.json
  deps:
  - path: data/football/modifier/train/baseline-ssq-retrieval-40-100.json
    md5: b534349d456d4862218426621744f919
  - path: data/football/modifier/train/intervention-ssq-retrieval-40-100.json
    md5: 855a535f3b41503dee0f1aba70840600
  - path: scripts/dataops.py
    md5: 58970f7c90dd21efee27c09781661f65
  outs:
  - path: data/football/modifier/train/both-ssq-retrieval-40-100.json
    md5: 1ea395227b38a4898e0c0c62c4e33f47
export-squad-football-modifier-ssq-retrieval:
  cmd: python main.py export --in-path data/football/modifier/train/both-ssq-retrieval-40-100.json
    --out-path data/football/modifier/train/both-ssq-retrieval-40-100-squad --ds-format
    squad --shuffle --split 80:20 --seed 56
  deps:
  - path: data/football/modifier/train/both-ssq-retrieval-40-100.json
    md5: 1ea395227b38a4898e0c0c62c4e33f47
  outs:
  - path: data/football/modifier/train/both-ssq-retrieval-40-100-squad-20-split.json
    md5: c195d9d92465939845e5136db73bcf15
  - path: data/football/modifier/train/both-ssq-retrieval-40-100-squad-80-split.json
    md5: fcd34a61109f3e3c033bcc7cd8da1425
generate-football-modifier-ssq-retrieval-distinct-templates:
  cmd: python main.py generate-modifier --config conf/modifier-ssq-retrieval-unique-actors.json
    --seed 56 --out-path data/football/modifier/train-distinct-templates/ --domain
    football --num-workers 8 --split-templates 0.5 --do-save
  deps:
  - path: conf/modifier-ssq-retrieval-unique-actors.json
    md5: 28a244cf99f6915b8b4c74e914058ff4
  - path: scripts/generate_modifier.py
    md5: 58580d97d4dda8fc5554a0f0b171734b
  - path: stresstest/football/football_generator.py
    md5: 569914abf2f024262f95e715ec97d7f3
  - path: stresstest/football/generate_with_modifier.py
    md5: 70c689f9a006158cc67faf2575307be0
  - path: stresstest/football/resources/team-names.json
    md5: 3fd4f35f3dd738849f12ec721b7cdaf0
  - path: stresstest/football/resources/templates_modifier.py
    md5: c4f0f0358818bad480e86efc2ce3e9ad
  - path: stresstest/generator.py
    md5: 427afdf6a9a1b06eedddcfd329602aa4
  - path: stresstest/generator_modifier.py
    md5: 85262589763599cd7d3a87058e2f0af6
  - path: stresstest/realize.py
    md5: 4b30854b75f5301995bf1cad7d5e304d
  outs:
  - path: data/football/modifier/train-distinct-templates/baseline-ssq-retrieval-40-full-0.json
    md5: b66baee321f996e27285e0c210891076
  - path: data/football/modifier/train-distinct-templates/baseline-ssq-retrieval-40-full-1.json
    md5: 5256fcbfa9d6b4f3fd9ec45110757227
  - path: data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-0.json
    md5: 540313faddca1faaba4318afba74f4da
  - path: data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-1.json
    md5: b89012e018bc9120f93448881b3f18a0
combine-football-modifier-ssq-retrieval-for-training-distinct-templates:
  cmd: python main.py combine data/football/modifier/train-distinct-templates/baseline-ssq-retrieval-40-full-0.json
    data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-0.json
    data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-full-0.json
  deps:
  - path: data/football/modifier/train-distinct-templates/baseline-ssq-retrieval-40-full-0.json
    md5: b66baee321f996e27285e0c210891076
  - path: data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-0.json
    md5: 540313faddca1faaba4318afba74f4da
  - path: scripts/dataops.py
    md5: 58970f7c90dd21efee27c09781661f65
  outs:
  - path: data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-full-0.json
    md5: 27edf9421e6aabe4997db9d2a0c73376
export-squad-train-football-modifier-ssq-retrieval-for-training-distinct-templates:
  cmd: python main.py export --in-path data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-full-0.json
    --out-path data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-squad-0.json
    --ds-format squad --shuffle --seed 56
  deps:
  - path: data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-full-0.json
    md5: 27edf9421e6aabe4997db9d2a0c73376
  outs:
  - path: data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-squad-0.json
    md5: 95fe6e9253a75aa8fcdfff0d5ec64701
export-squad-eval-football-modifier-ssq-retrieval-for-training-distinct-templates:
  cmd: python main.py export --in-path data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-1.json
    --out-path data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-squad-1.json
    --ds-format squad --shuffle --seed 56
  deps:
  - path: data/football/modifier/train-distinct-templates/intervention-ssq-retrieval-40-full-1.json
    md5: b89012e018bc9120f93448881b3f18a0
  outs:
  - path: data/football/modifier/train-distinct-templates/both-ssq-retrieval-40-squad-1.json
    md5: 13212b736decda2188c163720989a271
cache-albert-football-modifier-ssq-retrieval:
  cmd: python main.py cache-examples data/football/modifier/baseline-ssq-retrieval-40-50.json
    data/football/modifier/intervention-ssq-retrieval-40-50.json data/football/modifier/control-ssq-retrieval-40-50.json
    --out-folder data/football/modifier/albert-squad/ --model-path models/albert-squad/
    --num-workers 4 --evaluate
  deps:
  - path: data/football/modifier/baseline-ssq-retrieval-40-50.json
    md5: 858a23367039b6cb3292868a41a4a74f
  - path: data/football/modifier/control-ssq-retrieval-40-50.json
    md5: c41b73cc4b482b648771b6fb28ce00a7
  - path: data/football/modifier/intervention-ssq-retrieval-40-50.json
    md5: 2ab3aa30ff6270a8763b74d4fd7d0a8a
  - path: models/albert-squad/
    md5: 8d09b19e15976988bb199e5928c67b3c.dir
  - path: scripts/predict_transformers.py
    md5: 2b8ce9247ca14447a2dc519abf5ff9e7
  outs:
  - path: data/football/modifier/albert-squad/baseline-ssq-retrieval-40-50-albert-squad.bin
    md5: d8ad9b29b72ae0195421da882aeb2492
  - path: data/football/modifier/albert-squad/control-ssq-retrieval-40-50-albert-squad.bin
    md5: 92e102973ed7c49c9b1274c11298cd0a
  - path: data/football/modifier/albert-squad/intervention-ssq-retrieval-40-50-albert-squad.bin
    md5: 127992bba49211daf7e97d6e08d84137
predict-baseline-albert-football-modifier-ssq-retrieval:
  cmd: python main.py predictions --in-file data/football/modifier/albert-squad/baseline-ssq-retrieval-40-50-albert-squad.bin
    --model-path models/albert-squad --out-folder data/football/modifier/predictions/
  deps:
  - path: data/football/modifier/albert-squad/baseline-ssq-retrieval-40-50-albert-squad.bin
    md5: d8ad9b29b72ae0195421da882aeb2492
  - path: models/albert-squad/
    md5: 8d09b19e15976988bb199e5928c67b3c.dir
  - path: scripts/predict_transformers.py
    md5: 2b8ce9247ca14447a2dc519abf5ff9e7
  outs:
  - path: data/football/modifier/predictions/baseline-ssq-retrieval-40-50-albert-squad.json
    md5: db4d67f6543f3407a80b3befa2f01159
  - path: data/football/modifier/predictions/nbest-baseline-ssq-retrieval-40-50-albert-squad.json
    md5: 46aa5287562945d3ad09a3ee18ec9b59
predict-intervention-albert-football-modifier-ssq-retrieval:
  cmd: python main.py predictions --in-file data/football/modifier/albert-squad/intervention-ssq-retrieval-40-50-albert-squad.bin
    --model-path models/albert-squad --out-folder data/football/modifier/predictions/
  deps:
  - path: data/football/modifier/albert-squad/intervention-ssq-retrieval-40-50-albert-squad.bin
    md5: 127992bba49211daf7e97d6e08d84137
  - path: models/albert-squad/
    md5: 8d09b19e15976988bb199e5928c67b3c.dir
  - path: scripts/predict_transformers.py
    md5: 2b8ce9247ca14447a2dc519abf5ff9e7
  outs:
  - path: data/football/modifier/predictions/intervention-ssq-retrieval-40-50-albert-squad.json
    md5: 071c7d898f1214700a77023612739cc9
  - path: data/football/modifier/predictions/nbest-intervention-ssq-retrieval-40-50-albert-squad.json
    md5: 2faaeed04035e6c76cfb1ec8331c28b2
predict-control-albert-football-modifier-ssq-retrieval:
  cmd: python main.py predictions --in-file data/football/modifier/albert-squad/control-ssq-retrieval-40-50-albert-squad.bin
    --model-path models/albert-squad --out-folder data/football/modifier/predictions/
  deps:
  - path: data/football/modifier/albert-squad/control-ssq-retrieval-40-50-albert-squad.bin
    md5: 92e102973ed7c49c9b1274c11298cd0a
  - path: models/albert-squad/
    md5: 8d09b19e15976988bb199e5928c67b3c.dir
  - path: scripts/predict_transformers.py
    md5: 2b8ce9247ca14447a2dc519abf5ff9e7
  outs:
  - path: data/football/modifier/predictions/control-ssq-retrieval-40-50-albert-squad.json
    md5: c356fc98e0084d6f27f5ffc6b2543600
  - path: data/football/modifier/predictions/nbest-control-ssq-retrieval-40-50-albert-squad.json
    md5: 1f0ff3cddcdcc291e7677073fce94ea7
